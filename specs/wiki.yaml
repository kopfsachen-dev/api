getMany:
  get:
    summary: Fetch wiki entries
    operationId: wiki:list-entries
    description: |-
      This endpoint returns a list of multiple wiki entries. 

      You can use the `query` parameter to perform a fulltext search on `title` and `content`.

      By default max. 20 WikiEntrys will be in the response. To fetch more, it's recommended to perform multiple queries (API Pagination). Use the `limit` and `offset` parameters.
    parameters:
      - name: query
        in: query
        required: false
        schema:
          title: Fulltext Search Query
          type: string
      - name: limit
        in: query
        description: |-
          The maximum number of articles the response will include (Use together with `offset` for api pagination).
        required: false
        schema:
          title: Article Limit
          type: integer
          minimum: 1
          default: 20
      - name: offset
        in: query
        description: |-
          The number of articles that will we skipped in response (Use together wuth `limit` for api pagination).
        required: false
        schema:
          title: Article Offset
          type: integer
          minimum: 0
          default: 0
    responses:
      "200":
        description: Success
        content:
          application/json:
            schema:
              $ref: '../schemas/wiki.yaml#/ListOfWikiEntries'
      "422":
        description: Invalid request parameters we're provided
        content:
          application/json:
            $ref: '../schemas/wiki.yaml#/ValidationError'
      "500":
        description: Internal Server Error
    x-contentType: application/json
    tags:
      - wiki-service
### TPL RENDER {{ template "servers.tpl" "wiki" }}
    servers:
      - url: https://wiki.api.{environment}.mindtastic.lol
        variables:
          environment:
            enum:
              - live
              - stage
              - dev
            default: live
### END RENDER {{ template "servers.tpl" "wiki" }}

# getOne:
#   get:
#     summary: Fetch single wiki entry
#     parameters:
#       - $ref: '../schemas/wiki.yaml#/entryId'
#     responses:
#       "200":
#         description: OK
#         content:
#           application/json:
#             schema:
#               $ref: '../schemas/wiki.yaml#/entry'
#       "404":
#         description: Not found
#       "500":
#         description: Internal Server Error
#     x-accepts: application/json
#     tags:
#       - wiki-service
# ### TPL RENDER {{ template "servers.tpl" "wiki" }}
#     servers:
#       - url: https://wiki.api.{environment}.mindtastic.lol
#         variables:
#           environment:
#             enum:
#               - live
#               - stage
#               - dev
#             default: live
# ### END RENDER {{ template "servers.tpl" "wiki" }}

createEntry: 
  post:
    operationId: wiki:create-entry
    summary: Add new wiki entries
    description: Add wiki entries
    requestBody:
      content:
        application/json:
          schema:
            $ref: '../schemas/wiki.yaml#/CreateEntryBody'
      required: true
    responses:
      "201":
        description: Wiki Article created. It returns the newly inserted WikiEntry with timestamps and id.
        content:
          application/json:
            schema:
              $ref: '../schemas/wiki.yaml#/WikiEntry'
      "401":
        description: Unauthorized
      "422":
        description: Invalid request body
        content:
          application/json:
            schema:
              $ref: '../schemas/wiki.yaml#/ValidationError'
      "500":
        description: Internal Server Error
    x-tira: false
    x-accepts: application/json
    x-contentType: application/json
    tags:
      - wiki-service
      - admin
### TPL RENDER {{ template "servers.tpl" "wiki" }}
    servers:
      - url: 'https://wiki.api.{environment}.mindtastic.lol'
        variables:
          environment:
            enum:
              - live
              - stage
              - dev
            default: live
### END RENDER {{ template "servers.tpl" "wiki" }}

deleteSingleEntry:
  delete:
    summary: Delete wiki entry by id.
    operationId: wiki:delete-entry
    parameters:
      - $ref: '../schemas/wiki.yaml#/wikiEntryId'
    responses:
      "204":
        description: Deletion successfull.
      "401":
        description: Unauthorized
      "422":
        description: Invalid wikiEntryId provided
        content:
          application/json:
            schema:
              $ref: '../schemas/wiki.yaml#/ValidationError'
      "500":
        description: Internal server error
    tags:
      - wiki-service
      - admin
### TPL RENDER {{ template "servers.tpl" "wiki" }}
    servers:
      - url: 'https://wiki.api.{environment}.mindtastic.lol'
        variables:
          environment:
            enum:
              - live
              - stage
              - dev
            default: live
### END RENDER {{ template "servers.tpl" "wiki" }}