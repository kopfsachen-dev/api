safetyNetEndpoints:
  get:
    summary: Get currently authenticated users safety-net
    description: Get currently authenticated users safety-net
    operationId: motivator:safetyNet:get
    responses:
      "200":
        description: OK
        content:
          application/json:
            schema:
              $ref: '../schemas/motivator.yaml#/safetyNet'
      "401":
        description: Unauthorized
      "500":
        description: Internal Server Error
    x-accepts: application/json
    tags:
      - motivator-service
    security:
      - jwt: []
  post:
    summary: Add safety net item to currently authenticated user safety net.
    description: Add safety net item to currently authenticated user safety net.
    operationId: motivator:safetyNet:add
    requestBody:
      content:
        application/json:
          schema:
            $ref: '../schemas/motivator.yaml#/safetyNetItem'
    responses:
      "200":
        description: OK
      "201":
        description: Created
      "401":
        description: Unauthorized
      "500":
        description: Internal Server Error
    x-accepts: application/json
    x-contentType: application/json
    tags:
      - motivator-service
    security:
      - jwt: []
### TPL RENDER {{ template "servers.tpl" "motivator" }}
  servers:
    - url: https://motivator.api.{environment}.mindtastic.lol
      variables:
        environment:
          enum:
            - live
            - stage
            - dev
          default: live
### END RENDER {{ template "servers.tpl" "motivator" }}

motivatorEndpoints:
  get:
    summary: Get motivators for authenticated user
    operationId: motivator:get
    description: |-
      This endpoint returns all motivators that should be available to the user in the frontend.

      A *motivator* is a generic exercise, that displays different type of contexts and eventually offers input elements. 
    responses:
      '200':
        description: |-
          OK. A list of avaiable motivator exercises for the currently authenticated user is returned.

          The content to display is presented in `content` as ordered array. Each element should be displayed in the order of occurence in the array.

          If a content object has the type input, it returns an `id` of an input object presented in `inputs`. Each input object offers one or more so called fields. A field is an individual, configurable input type. You can think of an input as a HTML form, which also consists out of multiple input elements and then submits all user inputs to the server.

          See the `POST /motivator/result` endpoint on how to send user inputs to the server.
        content:
          application/json:
            schema:
              $ref: '../schemas/motivator.yaml#/MotivatorList'
      '401':
        description: Unauthorized
      '500':
        description: Internal Server Error
    tags:
      - motivator-service
    security:
      - jwt: []
### TPL RENDER {{ template "servers.tpl" "motivator" }}
  servers:
    - url: https://motivator.api.{environment}.mindtastic.lol
      variables:
        environment:
          enum:
            - live
            - stage
            - dev
          default: live
### END RENDER {{ template "servers.tpl" "motivator" }}

motivatorResultEndpoints:
  post:
    summary: Add a new result to user's current motivator.
    operationId: post-motivator-userId-feedback-motivatorId
    responses:
      '200':
        description: OK
      '401':
        description: Unauthorized
      '500':
        description: Internal Server Error
    description: Add a new result to user's current motivator.
    requestBody:
      content:
        application/json:
          schema:
            $ref: '../schemas/motivator.yaml#/motivatorResult'
    tags:
      - motivator-service
    security:
      - jwt: []
    parameters:
      - name: motivatorId
        in: path
        schema:
          type: integer
        required: true
        description: The ID of the motivator to fetch users results
  delete:
    summary: Delete result from user's current motivator by timestamp.
    operationId: delete-motivator-userId-result-motivatorId
    responses:
      '200':
        description: OK
      '500':
        description: Internal Service Error
    description: Delete result from user's current motivator by timestamp.
    tags:
      - motivator-service
    security:
      - jwt: []
    parameters:
      - name: motivatorId
        in: path
        schema:
          type: integer
        required: true
        description: The ID of the motivator to fetch users results
### TPL RENDER {{ template "servers.tpl" "motivator" }}
  servers:
    - url: https://motivator.api.{environment}.mindtastic.lol
      variables:
        environment:
          enum:
            - live
            - stage
            - dev
          default: live
### END RENDER {{ template "servers.tpl" "motivator" }}

#
# /motivator/admin:
#   parameters: []
#   get:
#     summary: Get all motivators.
#     tags:
#       - motivator-service
#     responses:
#       '200':
#         description: OK
#         content:
#           application/json:
#             schema:
#               type: array
#               items:
#                 $ref: '#/components../schemas/motivator'
#       '401':
#         description: Unauthorized
#       '500':
#         description: Internal Server Error
#     operationId: get-motivators-userId
#     description: Gett all motivators.
#   post:
#     summary: Add motivator
#     operationId: post-motivator
#     responses:
#       '200':
#         description: OK
#     description: Add a new motivator.
#     requestBody:
#       content:
#         application/json:
#           schema:
#             $ref: '#/components../schemas/motivator'
#     tags:
#       - motivator-service
#   delete:
#     summary: Delete a motivator.
#     operationId: delete-motivator
#     responses:
#       '200':
#         description: OK
#       '401':
#         description: Unauthorized
#       '500':
#         description: Internal Server Error
#     description: Delete a motivator by id.
#     tags:
#       - motivator-service